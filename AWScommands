aws commands

aws configure 

Setup your AWS access key ID and your Secret access key
and Default region name. 

aws sts get-caller-identity 

The aws sts get-caller-identity command is part of the AWS Security Token Service (STS) and is used to retrieve details about the IAM identity making the request. Specifically, this command returns the ARN (Amazon Resource Name) and the unique ID of the calling entity, along with the account ID. This can be useful for verifying the identity and permissions of the entity currently authenticated and accessing AWS resources. 

aws s3 ls s3://site-name-data/ --no-sign-request

The aws s3 ls s3://site-name-data/ --no-sign-request command is used to list the contents of an S3 bucket without requiring AWS credentials. This command is particularly useful for accessing publicly accessible S3 buckets or when you want to bypass the usual authentication mechanisms.

aws s3api get-bucket-policy --bucket site-name-data

The aws s3api get-bucket-policy --bucket site-name-data command is used to retrieve the bucket policy for the specified S3 bucket. A bucket policy is a resource-based policy that specifies who can access the bucket and what actions they can perform on it.

to format the command above into a more human readable format 

 | jq -r .Policy | jq .

after the command

aws s3 cp s3://site-name-data/somefile.xlsx .

The aws s3 cp s3://site-name-data/somefile.xlsx . command is used to copy a file from an S3 bucket to the local file system using the AWS CLI (Command Line Interface).
Breakdown of the Command

    aws s3 cp: This is the base command for copying files between S3 and your local system.
    s3://site-name-data/somefile.xlsx: This specifies the S3 bucket and the path to the file you want to copy. In this case, site-name-data is the bucket name, and somefile.xlsx is the file name.
    .: This specifies the destination path on your local file system. The . denotes the current directory.

